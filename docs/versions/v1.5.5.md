# v1.5.5 Release Notes

**Release Date:** January 21, 2025

## üéØ Feature - Force Mode for Upload & Extractor

This release introduces force mode capabilities for both `i18n-extractor` and `i18n-upload` commands, providing better control over when to preserve existing data versus when to perform complete regeneration.

### ‚ú® Enhanced i18n-extractor

#### Default Behavior Change

- **CHANGED**: Default behavior now preserves existing translations and only adds new keys (non-destructive)
- **NEW**: `--force` flag to overwrite all translations with newly extracted values
- **IMPROVED**: Console output shows number of new keys added in default mode
- **IMPROVED**: Clear distinction between incremental updates and full regeneration

#### Usage Examples

**Default Mode (Recommended):**

```bash
# Safe incremental update - preserves existing translations
npx i18n-extractor
```

**Force Mode (Use with caution):**

```bash
# Complete regeneration - overwrites all translations
npx i18n-extractor --force
```

### ‚ú® Enhanced i18n-upload

#### Default Behavior Change

- **CHANGED**: Default behavior now only uploads new keys to Google Sheets (preserves existing data)
- **NEW**: `--force` flag to clear all Google Sheets data and re-upload everything
- **IMPROVED**: Force mode clears rows while preserving headers
- **IMPROVED**: Better console output showing upload mode

#### Usage Examples

**Default Mode (Recommended):**

```bash
# Incremental upload - only adds new keys
npx i18n-upload
```

**Force Mode (Use with caution):**

```bash
# Complete sync - clears and re-uploads all data
npx i18n-upload --force

# Can combine with auto-translate
npx i18n-upload --force --auto-translate
```

### üìù Use Cases

#### Incremental Development (Default Mode)

- Daily development: new features add new translation keys
- Preserves all existing translations
- Safe and non-destructive
- Ideal for team collaboration

#### Complete Regeneration (Force Mode)

- After major refactoring or restructuring
- When local files are the source of truth
- When Google Sheets data is corrupted or needs reset
- Initial project setup or migration

### üéØ Benefits

- **Safer default behavior**: No accidental data loss
- **Clear intentions**: Force mode explicitly signals destructive operation
- **Better workflow**: Matches real-world development patterns
- **Consistent API**: Both extractor and upload use same force concept

---

## Migration Guide

### From v1.5.4

No breaking changes. This is an enhancement release.

### Recommended Actions

1. **Review your current workflow** - the default behavior is now safer
2. **Use force mode only when needed** - for complete regeneration scenarios
3. **Update CI/CD scripts** if they relied on the old overwrite behavior

### Workflow Examples

**Daily Development:**

```bash
# Add new features with Korean text
# Run wrapper
npx i18n-wrapper

# Extract new keys (preserves existing translations)
npx i18n-extractor

# Upload new keys to Google Sheets
npx i18n-upload
```

**Major Refactoring:**

```bash
# After restructuring translation keys
npx i18n-extractor --force
npx i18n-upload --force
```

---

## Full Changelog

- **CHANGED**: i18n-extractor default behavior now preserves existing translations
- **NEW**: `--force` flag for i18n-extractor to overwrite all translations
- **IMPROVED**: Console output shows number of new keys added in default mode
- **CHANGED**: i18n-upload default behavior now only uploads new keys
- **NEW**: `--force` flag for i18n-upload to clear and re-upload all data
- **IMPROVED**: Force mode clears rows while preserving headers
- **IMPROVED**: Better console output showing upload mode
- **IMPROVED**: Clear distinction between incremental updates and full regeneration
