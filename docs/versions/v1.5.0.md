# v1.5.0 Release Notes

**Release Date:** January 16, 2025

## üéØ Major Features - Enhanced Translation Management

This release introduces significant improvements to translation management with better Google Sheets integration and smarter file handling.

### ‚ú® Improved i18n-upload and i18n-download

#### Configuration Integration

- **NEW**: `i18n-upload` now reads configuration from `i18nexus.config.json`
- **NEW**: `i18n-download` now reads configuration from `i18nexus.config.json`
- **NEW**: `i18n-download-force` command for force overwriting translations
- **IMPROVED**: Both commands now work with `locales/en.json` and `locales/ko.json` format
- **IMPROVED**: `i18n-download` now performs incremental updates (only adds new keys)
- **IMPROVED**: Better file structure compatibility with modern i18n setups

#### Smart Translation Syncing

- **NEW**: Incremental download mode (default) - preserves existing translations
- **NEW**: Force download mode (`i18n-download-force`) - overwrites all translations
- **IMPROVED**: More efficient file operations
- **IMPROVED**: Better conflict resolution

### ‚ú® File Structure Improvements

#### Simplified File Structure

- **CHANGED**: Translation files now saved as `locales/en.json`, `locales/ko.json` instead of nested structure
- **IMPROVED**: Simpler file structure for better compatibility
- **IMPROVED**: Automatic directory creation if not exists

#### CLI Tools Enhancement

- **IMPROVED**: Better error messages for config reading
- **IMPROVED**: Helpful usage instructions in all commands
- **IMPROVED**: Consistent behavior across upload/download commands

### üìù Documentation Improvements

- **IMPROVED**: README with new upload/download commands
- **NEW**: Usage examples for incremental vs force download
- **NEW**: Clear distinction between `i18n-download` and `i18n-download-force`

### üîß Configuration

All commands now automatically read from `i18nexus.config.json`:

```json
{
  "languages": ["en", "ko"],
  "localesDir": "./locales",
  "googleSheets": {
    "spreadsheetId": "your-spreadsheet-id",
    "credentialsPath": "./credentials.json",
    "sheetName": "Translations"
  }
}
```

### üìù Usage Examples

#### Incremental Download (Default)

```bash
# Only adds new keys, preserves existing translations
npx i18n-download
```

#### Force Download

```bash
# Overwrites all translations with Google Sheets data
npx i18n-download-force
```

#### Upload with Config

```bash
# Reads config automatically
npx i18n-upload
```

---

## Migration Guide

### From v1.4.0

#### Breaking Changes

- File structure changed from nested to flat structure
- Commands now require `i18nexus.config.json` for optimal operation

#### Migration Steps

1. **Create configuration file:**

   ```bash
   npx i18n-sheets init
   ```

2. **Update file structure:**

   ```bash
   # Old structure: locales/en/common.json
   # New structure: locales/en.json
   ```

3. **Update workflow:**
   ```bash
   # Use new commands
   npx i18n-download        # Incremental
   npx i18n-download-force  # Force overwrite
   ```

### Recommended Actions

1. **Initialize config** if not already done
2. **Migrate file structure** to flat format
3. **Update scripts** to use new commands
4. **Test incremental vs force** download modes

---

## Full Changelog

- **NEW**: `i18n-upload` now reads configuration from `i18nexus.config.json`
- **NEW**: `i18n-download` now reads configuration from `i18nexus.config.json`
- **NEW**: `i18n-download-force` command for force overwriting translations
- **IMPROVED**: Both commands now work with `locales/en.json` and `locales/ko.json` format
- **IMPROVED**: `i18n-download` now performs incremental updates (only adds new keys)
- **IMPROVED**: Better file structure compatibility with modern i18n setups
- **IMPROVED**: More efficient file operations
- **IMPROVED**: Better conflict resolution
- **CHANGED**: Translation files now saved as `locales/en.json`, `locales/ko.json` instead of nested structure
- **IMPROVED**: Simpler file structure for better compatibility
- **IMPROVED**: Automatic directory creation if not exists
- **IMPROVED**: Better error messages for config reading
- **IMPROVED**: Helpful usage instructions in all commands
- **IMPROVED**: Consistent behavior across upload/download commands
- **IMPROVED**: README with new upload/download commands
- **NEW**: Usage examples for incremental vs force download
- **NEW**: Clear distinction between `i18n-download` and `i18n-download-force`
