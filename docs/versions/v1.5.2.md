# v1.5.2 Release Notes

**Release Date:** January 21, 2025

## üéØ Feature - Auto-translation for Google Sheets Upload

This release introduces automatic translation capabilities for Google Sheets integration, making it easier to get initial English translations for new Korean content.

### ‚ú® Enhanced i18n-upload Command

#### New Auto-translation Mode

- **NEW**: `--auto-translate` flag for `i18n-upload` command
- **NEW**: Automatic GOOGLETRANSLATE formula injection for English translations
- **IMPROVED**: `i18n-download` now uses `FORMATTED_VALUE` to get calculated results from formulas

#### How Auto-translation Works

When using `i18n-upload --auto-translate`:

- Korean translations are uploaded as plain text
- English translations are uploaded as `=GOOGLETRANSLATE(C{row}, "ko", "en")` formulas
- Google Sheets automatically calculates translations in real-time
- Perfect for rapid initial translations of new features

#### Usage Examples

**Auto-translation Mode:**

```bash
# Upload with auto-translate for quick English drafts
npx i18n-upload --auto-translate
```

**Force + Auto-translate:**

```bash
# Complete sync with auto-translation
npx i18n-upload --force --auto-translate
```

**Manual Translation Workflow:**

```bash
# Upload all as text for manual translation
npx i18n-upload
```

### ‚ú® Download Improvements

#### Enhanced Formula Handling

- `i18n-download` now fetches formula results instead of formula strings
- Works seamlessly with both text-based and formula-based uploads
- Ensures consistent text output regardless of upload method

### üìù Use Cases

#### Scenario 1: New Feature Development

```bash
# Add Korean keys to your code
npx i18n-wrapper

# Extract Korean translations
npx i18n-extractor

# Upload with auto-translate for quick English drafts
npx i18n-upload --auto-translate

# Download translated results
npx i18n-download
```

#### Scenario 2: Manual Translation Workflow

```bash
# Upload all as text for manual translation
npx i18n-upload

# Translators work on Google Sheets

# Download finalized translations
npx i18n-download
```

### üéØ Benefits

#### Rapid Prototyping

- **Quick English drafts**: Get initial translations instantly
- **Google Sheets integration**: Leverages Google's translation API
- **Real-time calculation**: Translations update automatically in sheets
- **Flexible workflow**: Choose between auto and manual translation

#### Better Collaboration

- **Translator-friendly**: Translators can refine auto-translations
- **Consistent output**: Download always returns text, not formulas
- **Version control**: Track changes between auto and manual translations

### üîß Technical Details

#### Formula Generation

- Korean text: `"ÏïàÎÖïÌïòÏÑ∏Ïöî"` ‚Üí Uploaded as plain text
- English text: `"ÏïàÎÖïÌïòÏÑ∏Ïöî"` ‚Üí Uploaded as `=GOOGLETRANSLATE(C2, "ko", "en")`
- Google Sheets calculates: `"Hello"`

#### Download Process

- Uses `FORMATTED_VALUE` to get calculated results
- Converts formulas back to plain text
- Maintains consistency with manual translations

---

## Migration Guide

### From v1.5.1

No breaking changes. This is a feature addition release.

### Recommended Actions

1. **Try auto-translation** for new features:

   ```bash
   npx i18n-upload --auto-translate
   ```

2. **Download and review** auto-translations:

   ```bash
   npx i18n-download
   ```

3. **Refine translations** in Google Sheets if needed

### Workflow Integration

**For New Features:**

```bash
# Development
npx i18n-wrapper
npx i18n-extractor

# Quick English drafts
npx i18n-upload --auto-translate
npx i18n-download

# Refine in Google Sheets, then download final
npx i18n-download
```

**For Manual Translation:**

```bash
# Traditional workflow
npx i18n-upload
# Translators work in Google Sheets
npx i18n-download
```

---

## Full Changelog

- **NEW**: `--auto-translate` flag for `i18n-upload` command
- **NEW**: Automatic GOOGLETRANSLATE formula injection for English translations
- **IMPROVED**: `i18n-download` now uses `FORMATTED_VALUE` to get calculated results from formulas
- **IMPROVED**: Works seamlessly with both text-based and formula-based uploads
- **IMPROVED**: Ensures consistent text output regardless of upload method
- **IMPROVED**: Korean translations uploaded as plain text, English as formulas
- **IMPROVED**: Google Sheets automatically calculates translations in real-time
- **IMPROVED**: Perfect for rapid initial translations of new features
